<form [formGroup]="myForm" (ngSubmit)="onSubmit(myForm)">
  <mat-card appearance="outlined" class="w-50 mx-auto mt-5">
    <mat-card-header class="justify-content-center">
      <h3>Ranking</h3>
    </mat-card-header>
    <mat-card-content class="d-flex flex-column">
      <mat-form-field appearance="outline" [floatLabel]="'always'">
        <mat-label>Number of results</mat-label>
        <input matInput type="number" formControlName="numOfResults">
      </mat-form-field>
      <mat-form-field appearance="outline" [floatLabel]="'always'">
        <mat-label>Keyword</mat-label>
        <input matInput formControlName="keyword">
      </mat-form-field>
      <mat-form-field appearance="outline" [floatLabel]="'always'">
        <mat-label>Website URL</mat-label>
        <input matInput formControlName="websiteUrl">
      </mat-form-field>
      <mat-form-field appearance="outline" [floatLabel]="'always'"
                      *ngIf="((searchResponse$ | async)?.searchEngines) as searchEngines">
        <mat-label>Search engines</mat-label>
        <mat-select formControlName="searchEngineId">
          <mat-option *ngFor="let searchEngine of searchEngines" [value]="searchEngine.id">
            {{ searchEngine.name }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-card-content>
    <mat-card-actions class="d-flex justify-content-end">
      <button mat-flat-button [disabled]="myForm.invalid || isLoading">Search</button>
    </mat-card-actions>
    <mat-card-footer class="d-flex justify-content-center">
      <h3>{{ (rankingResponse$ | async)?.ranking }}</h3>
      <mat-spinner [diameter]="40" *ngIf="isLoading"></mat-spinner>
    </mat-card-footer>
  </mat-card>
</form>

